<app-sub-header title="Current TODOS :"></app-sub-header>
<div class="container">
    <ul class="todos">
        <li *ngFor="let todo of todos">
            <div *ngIf="todo.state">
                <mat-card class="card" (click)="openDialog(this.todo.id)">
                    <mat-card-header>
                        <mat-card-title-group>
                            <mat-card-title class="strikethrough">
                                {{this.todo.title}}
                            </mat-card-title>
                        </mat-card-title-group>
                        <button mat-icon-button color="primary" aria-label="Example icon button with a home icon">
                            <mat-icon>create</mat-icon>
                        </button>
                        <button mat-icon-button color="warn" aria-label="Example icon button with a heart icon">
                            <mat-icon>delete</mat-icon>
                        </button>
                    </mat-card-header>
                    <mat-card-content>
                        <mat-card-subtitle>Due to : {{this.todo.deadline}}</mat-card-subtitle>
                        <mat-card-subtitle>State : {{castIdToState(this.todo.state)}}</mat-card-subtitle>
                    </mat-card-content>
                    <mat-card-actions align="end">
                      <button mat-button (click)="openDialog(this.todo.id)">Details</button>
                      <button mat-button (click)="changeState(this.todo.id)">Mark as done</button>
                      <input class="toggle" type="checkbox" [(ngModel)]="this.todo.state">
                    </mat-card-actions>
                </mat-card>
            </div>
        </li>
        <li *ngFor="let todo of todos">
            <div *ngIf="!todo.state">
                <mat-card class="card" (click)="openDialog(this.todo.id)">
                    <mat-card-header>
                        <mat-card-title-group>
                            <mat-card-title>
                                {{this.todo.title}}
                            </mat-card-title>
                        </mat-card-title-group>
                        <button mat-icon-button color="primary" aria-label="Example icon button with a home icon">
                            <mat-icon>create</mat-icon>
                        </button>
                        <button mat-icon-button color="warn" aria-label="Example icon button with a heart icon">
                            <mat-icon>delete</mat-icon>
                        </button>
                    </mat-card-header>
                    <mat-card-content>
                        <mat-card-subtitle>Due to : {{this.todo.deadline}}</mat-card-subtitle>
                        <mat-card-subtitle>State : {{castIdToState(this.todo.state)}}</mat-card-subtitle>
                    </mat-card-content>
                    <mat-card-actions align="end">
                      <button mat-button (click)="openDialog(this.todo.id)">Details</button>
                      <button mat-button (click)="changeState(this.todo.id)">Mark as done</button>
                      <input class="toggle" type="checkbox" [(ngModel)]="this.todo.state">
                    </mat-card-actions>
                </mat-card>
            </div>
        </li>
    </ul>
</div>
